import{a as he,b as ge,c as _}from"./chunk-DJOYUKBE.js";import{a as Ee}from"./chunk-BAHAHFXC.js";import{b as g}from"./chunk-LX3E3OYB.js";import{a as we}from"./chunk-O2ZRYFSD.js";import{a as me,b as pe,c as de,d as ce}from"./chunk-2KXDWYQF.js";import{a as xe,b as ye,c as Ce}from"./chunk-AN7PHWWV.js";import{a as le,b as se}from"./chunk-UTL3HTDL.js";import{F as be,G as Se,w as ue,x as fe}from"./chunk-YRSSN5UI.js";import{a as ve}from"./chunk-ZAT5T3DC.js";import{f as K,g as Q,j as D}from"./chunk-NBQVFEEK.js";import{b as X,c as s,e as Z,f as ee,h as p,j as te,k as ie,l as oe,m as re,n as ne,o as ae}from"./chunk-E5TIXRCY.js";import{l as F}from"./chunk-UANHBEK6.js";import{q as T,s as J,y as h}from"./chunk-Q2MNPUL2.js";import{Ab as $,B as N,Bb as O,Cb as H,Ib as a,Mb as U,Nb as G,Ob as W,Pa as c,Pb as Y,Qa as u,Qb as z,S as f,T as L,X as v,_a as x,ba as I,ca as k,d as S,eb as q,gb as d,la as A,lb as V,ma as P,qb as t,rb as r,sb as m,wb as B,zb as E}from"./chunk-LPT52JMQ.js";var ke=["*"],Ie=(()=>{class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=I({type:o,selectors:[["p-floatLabel"]],ngContentSelectors:ke,decls:2,vars:0,consts:[[1,"p-float-label"]],template:function(e,n){e&1&&(O(),t(0,"span",0),H(1),r())},encapsulation:2,changeDetection:0})}return o})(),Te=(()=>{class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=k({type:o});static \u0275inj=L({imports:[J,F,D,F]})}return o})();var j=(()=>{let i=class i{constructor(e){this.http=e,this.url=`${g.URL_API}`,this.getAll=()=>this.http.get(`${this.url}cargo`)}};i.\u0275fac=function(n){return new(n||i)(v(h))},i.\u0275prov=f({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();var R=(()=>{let i=class i{constructor(e){this.http=e,this.url=`${g.URL_API}`,this.getAllTipoDoc=()=>this.http.get(`${this.url}tipodoc`)}};i.\u0275fac=function(n){return new(n||i)(v(h))},i.\u0275prov=f({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();var De=(()=>{let i=class i{constructor(e){this.http=e,this.url=`${g.URL_API}`,this.getAllEmployes=()=>this.http.get(`${this.url}persona`),this.getOneEmployeId=n=>this.http.get(`${this.url}persona/${n}`),this.getOneEmployeCi=n=>this.http.post(`${this.url}persona`,{ci:n})}};i.\u0275fac=function(n){return new(n||i)(v(h))},i.\u0275prov=f({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();var _e=(()=>{let i=class i{constructor(e){this.http=e,this.url=`${g.URL_API}`,this.getAllExtDocs=()=>this.http.get(`${this.url}extdoc`)}};i.\u0275fac=function(n){return new(n||i)(v(h))},i.\u0275prov=f({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();var Me=(()=>{let i=class i{constructor(e){this.http=e,this.url=`${g.URL_API}`,this.getAllRols=()=>this.http.get(`${this.url}rol`)}};i.\u0275fac=function(n){return new(n||i)(v(h))},i.\u0275prov=f({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();function Oe(o,i){if(o&1){let w=B();t(0,"p-button",56),E("click",function(){A(w);let n=$();return P(n.savePromise())}),a(1,"Register"),r()}o&2&&d("text",!0)}function He(o,i){o&1&&(t(0,"p-button",57),a(1,"Register"),r()),o&2&&d("text",!0)("disabled",!0)}var Mt=(()=>{let i=class i{constructor(e,n,l,C,b,je,Re,Ne,Fe,Le){this.fb=e,this.employesService=n,this.personaService=l,this.cargoService=C,this.tipoempleadoService=b,this.extdocService=je,this.tipodocService=Re,this.rolService=Ne,this.datePipe=Fe,this.router=Le,this.visible=!1,this.dataDtoEmployes={},this.sexo=[{name:"Varon",value:!0},{name:"Mujer",value:0}],this.stateOptions=[{label:"One-Way",value:"one-way"},{label:"Return",value:"return"}],this.value="off",this.itemsCargo=x([]),this.itemsTipoempleado=x([]),this.itemsTipodoc=x([]),this.itemsRols=x([]),this.itemsExtdocs=x([]),this.itemsStadoCivil=[{name:"Soltero/a"},{name:"Casado/a"},{name:"Viudo/a"},{name:"Divorciado/a"}],this.cities=[{name:"New York",code:"NY"},{name:"Rome",code:"RM"},{name:"London",code:"LDN"},{name:"Istanbul",code:"IST"},{name:"Paris",code:"PRS"}],this.stateSearchCI=!1,this.loadCargo(),this.loadTipoEmpleado(),this.loadTipoDoc(),this.loadExtDoc(),this.loadRols(),this.initForm()}ngOnInit(){this.onChangeForm()}initForm(){this.fg=this.fb.group({username:new p("",{validators:[s.required]}),password:new p("",{validators:[s.required]}),rol:new p(0,{validators:[s.required]}),tipodoc:new p(0,{validators:[s.required]}),extdoc:new p(0,{validators:[s.required]}),doc:new p("",{validators:[s.required]}),nombre:new p("",{validators:[s.required]}),app:new p("",{validators:[s.required]}),apm:new p("",{validators:[s.required]}),fnaci:new p("",{validators:[s.required]}),sexo:new p(!0,{validators:[s.required]}),estadociv:new p("",{validators:[s.required]}),dir:new p("",{validators:[s.required]}),telcel:new p("",{validators:[s.required]}),email:new p("",{validators:[s.required,s.email]}),idtipo:new p(0,{validators:[s.required]}),idcargo:new p(0,{validators:[s.required]}),salario:new p(0,{validators:[s.required]})})}onChangeForm(){this.fg.valueChanges.pipe(N(2e3)).subscribe({next:e=>{console.log(e),this.dataDtoEmployes={u_username:e.username,u_password:e.password,u_rol:e.rol.length>0?e.rol[0].id:e.rol,p_doc:e.doc,p_tipodoc:e.tipodoc.id,p_extdoc:e.extdoc.id,p_nombre:e.nombre,p_app:e.app,p_apm:e.apm,p_fnaci:e.fnaci?this.formatearFecha(e.fnaci):"",p_sexo:e.sexo,p_estadociv:e.estadociv.name,p_dir:e.dir,p_telcel:e.telcel,p_email:e.email,e_idcargo:e.idcargo.id,e_idtipo:e.idtipo.id,e_fing:"",e_salario:e.salario},console.log("doc: ",this.dataDtoEmployes,this.stateSearchCI)},error:e=>console.log(e)})}changeDoc(e){console.log("doc::::::: ",e),this.fg.get("doc").valueChanges.subscribe(l=>{console.log(l),l!==""&&this.stateSearchCI===!1?(console.log("siiiiiiii"),this.searchCI(l)):(console.log("nooooooooooooo"),this.stateSearchCI=l!=="")})}searchCI(e){return S(this,null,function*(){yield this.personaService.getOneEmployeCi(e).pipe(N(2e3)).subscribe({next:n=>{console.log(n),this.stateSearchCI=!0,this.fg.patchValue(n)},error:n=>console.log(n)})})}loadCargo(){return S(this,null,function*(){yield this.cargoService.getAll().subscribe({next:e=>{this.itemsCargo.set(e),console.log(e)},error:e=>{console.log(e)}})})}loadTipoEmpleado(){return S(this,null,function*(){yield this.tipoempleadoService.getAll().subscribe({next:e=>{this.itemsTipoempleado.set(e),console.log(e)},error:e=>console.log(e)})})}loadTipoDoc(){return S(this,null,function*(){yield this.tipodocService.getAllTipoDoc().subscribe({next:e=>this.itemsTipodoc.set(e),error:e=>console.log(e)})})}loadExtDoc(){return S(this,null,function*(){yield this.extdocService.getAllExtDocs().subscribe({next:e=>{this.itemsExtdocs.set(e),console.log(e)},error:e=>console.log(e)})})}loadRols(){return S(this,null,function*(){yield this.rolService.getAllRols().subscribe({next:e=>this.itemsRols.set(e),error:e=>console.log(e)})})}toggleSidebar(){this.visible=!this.visible}savePromise(){this.employesService.savePromise(this.dataDtoEmployes).then(e=>{console.log(e),console.log(e.status),e[0].Status==="201"&&console.log("Se registro exitosamente")})}saveDataObservable(){console.log(this.fg.value),console.log(this.dataDtoEmployes),this.employesService.saveEmploye(this.dataDtoEmployes).subscribe(n=>{console.log(n),console.log(n.status),n.status==="201"&&(console.log("Se registro exitosamente"),this.router.navigate(["/employes"]))}).unsubscribe()}formatearFecha(e){return e&&this.datePipe.transform(e,"yyyy-MM-dd")||""}clear(){this.fg.reset()}};i.\u0275fac=function(n){return new(n||i)(u(re),u(Ee),u(De),u(j),u(_),u(_e),u(R),u(Me),u(T),u(K))},i.\u0275cmp=I({type:i,selectors:[["app-employes-register"]],standalone:!0,features:[Y([j,_,R,T]),z],decls:140,vars:13,consts:[[3,"visibleChange","visible","blockScroll","dismissible"],[1,"sidebar-header"],["pButton","","type","button","icon","pi pi-arrow-left",1,"p-button-text",3,"click"],[1,"sidebar-content"],[1,"menu"],["routerLink","/home"],["routerLink","/about"],["routerLink","/services"],[3,"formGroup"],[1,"grid","p-fluid"],[1,"col-12","md:col-6"],[1,"card"],[1,"grid","formgrid","pb-5"],[1,"col-12","mb-2","lg:col-4","lg:mb-0"],[1,"p-float-label"],["placeholder","Select extension Document","optionLabel","abreviatura","formControlName","tipodoc",1,"p-inputtext-sm",3,"options"],["for","float-label"],["pInputText","","formControlName","doc",1,"p-inputtext-sm",3,"ngModelChange"],["for","nombre"],["placeholder","Select extensiob Document","optionLabel","abreviatura","formControlName","extdoc",1,"p-inputtext-sm",3,"options"],["pInputText","","formControlName","nombre",1,"p-inputtext-sm"],["pInputText","","formControlName","app",1,"p-inputtext-sm"],["for","app"],["pInputText","","formControlName","apm",1,"p-inputtext-sm"],["for","apm"],[1,"col-12","mb-2","lg:col-3","lg:mb-0"],["formControlName","fnaci"],["for","fnaci"],[1,"flex","justify-content-center","align-items-center","mb-1"],[1,"flex","align-items-center"],["id","sexo","name","sexo","value","Varon","formControlName","sexo"],["for","masculino",1,"ml-2"],["id","sexo","name","sexo","value","Mujer","formControlName","sexo"],["for","femenino",1,"ml-2"],["pInputText","","formControlName","telcel",1,"p-inputtext-sm"],["for","telcel"],["placeholder","Select state civil","optionLabel","name","formControlName","estadociv",1,"p-inputtext-sm",3,"options"],[1,"col-12","mb-2","lg:col-6","lg:mb-0"],["pInputText","","formControlName","email",1,"p-inputtext-sm"],["for","float-input","type","email"],["pInputText","","formControlName","dir",1,"p-inputtext-sm"],["for","float-input"],[1,"grid","formgrid","pb-0"],["placeholder","Select Tipo de Empleado","optionLabel","nombre","formControlName","idtipo",1,"p-inputtext-sm",3,"options"],["placeholder","Select Cargo","optionLabel","descrip","formControlName","idcargo",1,"p-inputtext-sm",3,"options"],["pInputText","","formControlName","salario",1,"p-inputtext-sm"],["for","salario"],[1,"grid","formgrid"],["pInputText","","formControlName","username",1,"p-inputtext-sm"],["for","username"],["pInputText","","formControlName","password","type","password",1,"p-inputtext-sm"],["for","password"],["inputId","float-label","optionLabel","nombre","formControlName","rol",3,"options"],["severity","danger",3,"text"],["severity","info",3,"click","text"],["severity","primary",3,"text"],["severity","primary",3,"click","text"],["severity","primary",3,"text","disabled"]],template:function(n,l){n&1&&(t(0,"p-sidebar",0),W("visibleChange",function(b){return G(l.visible,b)||(l.visible=b),b}),t(1,"div",1)(2,"button",2),E("click",function(){return l.toggleSidebar()}),r()(),t(3,"div",3)(4,"ul",4)(5,"li")(6,"a",5),a(7,"Home"),r()(),t(8,"li")(9,"a",6),a(10,"About"),r()(),t(11,"li")(12,"a",7),a(13,"Services"),r()()()()(),t(14,"form",8)(15,"div",9)(16,"div",10)(17,"div",11)(18,"h5"),a(19,"Datos Personales"),r(),t(20,"div",12)(21,"div",13)(22,"span",14),m(23,"p-dropdown",15),t(24,"label",16),a(25,"Select Tipo doc"),r()()(),t(26,"div",13)(27,"span",14)(28,"input",17),E("ngModelChange",function(b){return l.changeDoc(b)}),r(),t(29,"label",18),a(30,"No Documento"),r()()(),t(31,"div",13)(32,"span",14),m(33,"p-dropdown",19),t(34,"label",16),a(35,"Select Extension"),r()()()(),t(36,"div",12)(37,"div",13)(38,"span",14),m(39,"input",20),t(40,"label",18),a(41,"Nombres"),r()()(),t(42,"div",13)(43,"span",14),m(44,"input",21),t(45,"label",22),a(46,"Apellido Paterno"),r()()(),t(47,"div",13)(48,"span",14),m(49,"input",23),t(50,"label",24),a(51,"Apellido Materno"),r()()()(),t(52,"div",12)(53,"div",25)(54,"span",14),m(55,"p-calendar",26),t(56,"label",27),a(57,"Fecha Naciminto"),r()()(),t(58,"div",25)(59,"span",14),a(60,"Sexo"),r(),t(61,"div",28)(62,"div",29),m(63,"p-radioButton",30),t(64,"label",31),a(65,"Varon"),r()(),t(66,"div",29),m(67,"p-radioButton",32),t(68,"label",33),a(69,"Mujer"),r()()()(),t(70,"div",25)(71,"span",14),m(72,"input",34),t(73,"label",35),a(74,"Telefono/Celular"),r()()(),t(75,"div",25)(76,"span",14),m(77,"p-dropdown",36),t(78,"label",16),a(79,"Select a Estado civil "),r()()()(),t(80,"div",12)(81,"div",37)(82,"span",14),m(83,"input",38),t(84,"label",39),a(85,"Email"),r()()(),t(86,"div",37)(87,"span",14),m(88,"input",40),t(89,"label",41),a(90,"Direccion"),r()()()()()(),t(91,"div",10)(92,"div",11)(93,"h5"),a(94,"Datos del empleado"),r(),t(95,"div",42)(96,"div",13)(97,"span",14),m(98,"p-dropdown",43),t(99,"label",16),a(100,"Select Tipo de Empleado "),r()()(),t(101,"div",13)(102,"span",14),m(103,"p-dropdown",44),t(104,"label",16),a(105,"Select a cargo "),r()()(),t(106,"div",13)(107,"span",14),m(108,"input",45),t(109,"label",46),a(110,"Salario"),r()()()()(),t(111,"div",11)(112,"h5"),a(113,"Datos de acceso"),r(),t(114,"div",47)(115,"div",13)(116,"span",14),m(117,"input",48),t(118,"label",49),a(119,"Username"),r()()(),t(120,"div",13)(121,"span",14),m(122,"input",50),t(123,"label",51),a(124,"Password"),r()()(),t(125,"div",13)(126,"p-floatLabel"),m(127,"p-multiSelect",52),t(128,"label",16),a(129,"Select Rols"),r()()()()()()(),t(130,"div",28)(131,"div")(132,"p-button",53),a(133,"Cancel"),r()(),t(134,"div")(135,"p-button",54),E("click",function(){return l.clear()}),a(136,"Limpiar"),r()(),t(137,"div"),q(138,Oe,2,1,"p-button",55)(139,He,2,2),r()()()),n&2&&(U("visible",l.visible),d("blockScroll",!0)("dismissible",!1),c(14),d("formGroup",l.fg),c(9),d("options",l.itemsTipodoc()),c(10),d("options",l.itemsExtdocs()),c(44),d("options",l.itemsStadoCivil),c(21),d("options",l.itemsTipoempleado()),c(5),d("options",l.itemsCargo()),c(24),d("options",l.itemsRols()),c(5),d("text",!0),c(3),d("text",!0),c(3),V(138,l.fg.valid?138:139))},dependencies:[ae,te,X,Z,ee,ie,oe,ne,ce,de,ve,se,le,ge,he,Se,be,ye,xe,ue,fe,Ce,we,pe,me,Te,Ie,D,Q]});let o=i;return o})();export{Mt as default};
